<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buy Now - SuryaBright</title>
  <link rel="icon" type="image/png" href="images/blue-logo.png">
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="particles-js"></div>
  <header>
    <nav>
      <div class="logo"><img src="images/title.png" alt="SuryaBright Logo" style="height:40px;"></div>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="buy.html">Buy Now</a></li>
        <li><a href="profile.html">Profile</a></li>
      </ul>
      <a href="demo.html" class="demo-btn" target="_blank">Demo</a>
    </nav>
  </header>
  <main class="buy-products">
    <h1 style="text-align:center; color: #fff; margin-bottom: 3rem;">Choose Your SuryaBright Street Light</h1>
    <div class="product-cards" style="justify-content:center;">
      <div class="product-card" style="background: white; color: #333;">
        <div class="product-icon">‚ö°</div>
        <h2>Basic</h2>
        <ul>
          <li>‚úì 30W Solar Panel</li>
          <li>‚úì App Monitoring</li>
          <li>‚úì Auto On/Off</li>
          <li>‚úì 1 Year Warranty</li>
        </ul>
        <div class="price">Rp 10.000.000</div>
        <button class="btn" onclick="openPaymentModal('Basic', 'Rp 10.000.000', 10000000)">Buy Basic</button>
      </div>
      <div class="product-card featured" style="background: white; color: #333;">
        <div class="product-icon">üåü</div>
        <h2>Pro</h2>
        <div class="popular-badge">Most Popular</div>
        <ul>
          <li>‚úì 50W Solar Panel</li>
          <li>‚úì App Monitoring + Alerts</li>
          <li>‚úì Power Saving Mode</li>
          <li>‚úì 2 Year Warranty</li>
          <li>‚úì Remote Diagnostics</li>
        </ul>
        <div class="price">Rp 12.000.000</div>
        <button class="btn" onclick="openPaymentModal('Pro', 'Rp 12.000.000', 12000000)">Buy Pro</button>
      </div>
      <div class="product-card premium" style="background: white; color: #333;">
        <div class="product-icon">üëë</div>
        <h2>Premium</h2>
        <ul>
          <li>‚úì 80W Solar Panel</li>
          <li>‚úì Advanced AI Monitoring</li>
          <li>‚úì Smart Adaptive Brightness</li>
          <li>‚úì 3 Year Warranty</li>
          <li>‚úì 24/7 Support</li>
          <li>‚úì Weather Resistance IP67</li>
        </ul>
        <div class="price">Rp 15.000.000</div>
        <button class="btn" onclick="openPaymentModal('Premium', 'Rp 15.000.000', 15000000)">Buy Premium</button>
      </div>
    </div>
  </main>

  <!-- Payment Modal -->
  <div id="payment-modal" class="payment-modal">
    <div class="payment-modal-content">
      <div class="payment-header">
        <h2>Complete Your Purchase</h2>
        <span class="payment-close" onclick="closePaymentModal()">&times;</span>
      </div>
      
      <div class="payment-body">
        <div class="order-summary">
          <h3>Order Summary</h3>
          <div class="order-item">
            <span id="product-name">SuryaBright Basic</span>
            <span id="product-price">Rp 10.000.000</span>
          </div>
          <div class="order-total">
            <strong>Total: <span id="total-price">Rp 10.000.000</span></strong>
          </div>
        </div>

        <div class="payment-form">
          <div class="form-section">
            <h3>Customer Information</h3>
            <div class="form-group">
              <label>Full Name</label>
              <input type="text" id="customer-name" placeholder="Enter your full name" required>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Email</label>
                <input type="email" id="customer-email" placeholder="your.email@example.com" required>
              </div>
              <div class="form-group">
                <label>Phone</label>
                <input type="tel" id="customer-phone" placeholder="08123456789" required>
              </div>
            </div>
            <div class="form-group">
              <label>Address</label>
              <textarea id="customer-address" placeholder="Enter your complete address" required></textarea>
            </div>
          </div>

          <div class="form-section">
            <h3>Payment Method</h3>
            <div class="payment-methods">
              <div class="payment-category">
                <h4>Bank Transfer</h4>
                <div class="payment-options">
                  <label class="payment-option">
                    <input type="radio" name="payment-method" value="bca">
                    <div class="payment-option-content">
                      <span class="payment-logo">üè¶</span>
                      <span>BCA</span>
                    </div>
                  </label>
                  <label class="payment-option">
                    <input type="radio" name="payment-method" value="mandiri">
                    <div class="payment-option-content">
                      <span class="payment-logo">üè¶</span>
                      <span>Mandiri</span>
                    </div>
                  </label>
                  <label class="payment-option">
                    <input type="radio" name="payment-method" value="bni">
                    <div class="payment-option-content">
                      <span class="payment-logo">üè¶</span>
                      <span>BNI</span>
                    </div>
                  </label>
                </div>
              </div>

              <div class="payment-category">
                <h4>E-Wallet</h4>
                <div class="payment-options">
                  <label class="payment-option">
                    <input type="radio" name="payment-method" value="ovo">
                    <div class="payment-option-content">
                      <span class="payment-logo">üí≥</span>
                      <span>OVO</span>
                    </div>
                  </label>
                  <label class="payment-option">
                    <input type="radio" name="payment-method" value="dana">
                    <div class="payment-option-content">
                      <span class="payment-logo">üí∞</span>
                      <span>DANA</span>
                    </div>
                  </label>
                  <label class="payment-option">
                    <input type="radio" name="payment-method" value="gopay">
                    <div class="payment-option-content">
                      <span class="payment-logo">üöó</span>
                      <span>GoPay</span>
                    </div>
                  </label>
                </div>
              </div>

              <div class="payment-category">
                <h4>QR Code</h4>
                <div class="payment-options">
                  <label class="payment-option">
                    <input type="radio" name="payment-method" value="qris">
                    <div class="payment-option-content">
                      <span class="payment-logo">üì±</span>
                      <span>QRIS</span>
                    </div>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <div class="payment-actions">
            <button type="button" class="btn-secondary" onclick="closePaymentModal()">Cancel</button>
            <button type="button" class="btn" onclick="processPayment()">Pay Now</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div id="success-modal" class="payment-modal">
    <div class="success-modal-content">
      <div class="success-icon">‚úÖ</div>
      <h2>Payment Successful!</h2>
      <p>Thank you for your purchase. Your order has been confirmed.</p>
      <div class="order-details">
        <p><strong>Order ID:</strong> <span id="order-id"></span></p>
        <p><strong>Product:</strong> <span id="success-product"></span></p>
        <p><strong>Amount:</strong> <span id="success-amount"></span></p>
        <p><strong>Payment Method:</strong> <span id="success-method"></span></p>
      </div>
      <button class="btn" onclick="closeSuccessModal()">Close</button>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 SuryaBright. All rights reserved.</p>
  </footer>
  <script src="particles.js"></script>
  <script src="script.js"></script>
  <script>
    let currentProduct = '';
    let currentPrice = '';
    let currentAmount = 0;

    function openPaymentModal(product, price, amount) {
      currentProduct = product;
      currentPrice = price;
      currentAmount = amount;
      
      document.getElementById('product-name').textContent = 'SuryaBright ' + product;
      document.getElementById('product-price').textContent = price;
      document.getElementById('total-price').textContent = price;
      document.getElementById('payment-modal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    function closePaymentModal() {
      document.getElementById('payment-modal').style.display = 'none';
      document.body.style.overflow = 'auto';
      clearForm();
    }

    function closeSuccessModal() {
      document.getElementById('success-modal').style.display = 'none';
      document.body.style.overflow = 'auto';
    }

    function clearForm() {
      document.getElementById('customer-name').value = '';
      document.getElementById('customer-email').value = '';
      document.getElementById('customer-phone').value = '';
      document.getElementById('customer-address').value = '';
      
      const paymentMethods = document.querySelectorAll('input[name="payment-method"]');
      paymentMethods.forEach(method => method.checked = false);
    }

    function processPayment() {
      // Validate form
      const name = document.getElementById('customer-name').value;
      const email = document.getElementById('customer-email').value;
      const phone = document.getElementById('customer-phone').value;
      const address = document.getElementById('customer-address').value;
      const paymentMethod = document.querySelector('input[name="payment-method"]:checked');

      if (!name || !email || !phone || !address) {
        alert('Please fill in all customer information fields.');
        return;
      }

      if (!paymentMethod) {
        alert('Please select a payment method.');
        return;
      }

      // Simulate payment processing
      const processingIndicator = document.querySelector('.payment-actions .btn');
      const originalText = processingIndicator.textContent;
      processingIndicator.textContent = 'Processing...';
      processingIndicator.disabled = true;

      setTimeout(() => {
        // Close payment modal
        closePaymentModal();
        
        // Generate order ID
        const orderId = 'SB' + Date.now();
        
        // Show success modal
        document.getElementById('order-id').textContent = orderId;
        document.getElementById('success-product').textContent = 'SuryaBright ' + currentProduct;
        document.getElementById('success-amount').textContent = currentPrice;
        document.getElementById('success-method').textContent = getPaymentMethodName(paymentMethod.value);
        
        document.getElementById('success-modal').style.display = 'flex';
        
        // Reset button
        processingIndicator.textContent = originalText;
        processingIndicator.disabled = false;
      }, 2000);
    }

    function getPaymentMethodName(method) {
      const methods = {
        'bca': 'BCA Bank Transfer',
        'mandiri': 'Mandiri Bank Transfer',
        'bni': 'BNI Bank Transfer',
        'ovo': 'OVO',
        'dana': 'DANA',
        'gopay': 'GoPay',
        'qris': 'QRIS'
      };
      return methods[method] || method;
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      const paymentModal = document.getElementById('payment-modal');
      const successModal = document.getElementById('success-modal');
      
      if (event.target === paymentModal) {
        closePaymentModal();
      }
      if (event.target === successModal) {
        closeSuccessModal();
      }
    }
  </script>
</body>
</html>
